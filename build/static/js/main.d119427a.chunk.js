(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{173:function(e,t,a){},174:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(50),i=a.n(l),o=a(8),s=a(51),u=a.n(s);a(77).config();var c="https://indoortemp-f1d63.appspot.com/measurements",m=function(){return console.log("Tehd\xe4\xe4n pyynt\xf6 osoitteeseen ".concat(c)),u.a.get(c)},d=a(52),p=function(e){var t=e.measurements,a=t.map(function(e){return e.temperature}),n=t.map(function(e){return e.relativehumidity}),l={labels:t.map(function(e){return new Date(1e3*e.timestamp)}).map(function(e){return e.getHours()+":"+("0"+e.getMinutes()).slice(-2)}),datasets:[{label:"L\xe4mp\xf6tila",yAxisID:"tempAxis",borderColor:"rgb(255, 99, 132)",fill:!1,data:a},{label:"Ilmankosteus",yAxisID:"humAxis",borderColor:"rgb(45, 94, 132",fill:!1,data:n}]};return r.a.createElement("div",{className:"chart"},r.a.createElement(d.a,{data:l,options:{title:{display:!1,text:"L\xe4mp\xf6tila ja suhteellinen ilmankosteus"},scales:{yAxes:[{type:"linear",position:"left",id:"tempAxis"},{type:"linear",position:"right",id:"humAxis"}]}}}))},f=function(e){var t=e.data,a=e.name,n=t[t.length-1].temperature,l=t[t.length-1].relativehumidity;return r.a.createElement("div",{className:"chartContainer"},r.a.createElement("h4",null,a),"Last temperature reading: ",r.a.createElement("b",null,n)," Last humidity reading: ",r.a.createElement("b",null,l),r.a.createElement(p,{measurements:t}))},h=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)([]),s=Object(o.a)(i,2),u=s[0],c=s[1],d=Object(n.useState)([]),p=Object(o.a)(d,2),h=p[0],b=p[1],E=Object(n.useState)([]),g=Object(o.a)(E,2),v=g[0],y=g[1],j=Object(n.useState)(!1),O=Object(o.a)(j,2),x=O[0],w=O[1];Object(n.useEffect)(function(){m().then(function(e){console.log("pyynt\xf6 onnistui");var t=A(e.data,"tagname");l(t[0]),c(t[1]),b(t[2]),y(t[3]),w(!0)}).catch(function(e){console.log("virhe: ",e)})},[]);var A=function(e,t){var a={},n=[];return e.forEach(function(e){e[t]in a||(a[e[t]]=[],n.push(a[e[t]])),a[e[t]].push(e)}),n};return console.log("measurements1: ",a),console.log("measurements2: ",u),x?r.a.createElement("div",null,r.a.createElement("h1",{className:"titleCentered"},"Ruuvifrontend"),r.a.createElement(f,{data:a,name:"Parveke"}),r.a.createElement(f,{data:u,name:"Makuuhuone"}),r.a.createElement(f,{data:h,name:"Kylpp\xe4ri"}),r.a.createElement(f,{data:v,name:"Olohuone"})):r.a.createElement("div",null,r.a.createElement("h1",{className:"titleCentered"},"Ruuvifrontend"))};a(173);i.a.render(r.a.createElement(h,null),document.getElementById("root"))},54:function(e,t,a){e.exports=a(174)}},[[54,1,2]]]);
//# sourceMappingURL=main.d119427a.chunk.js.map