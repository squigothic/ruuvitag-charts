{"version":3,"sources":["services/measurements.js","components/chart.js","App.js","index.js"],"names":["baseUrl","services_measurements","console","log","concat","axios","get","Chart","_ref","measurements","tempValues","map","measure","temperature","humValues","relativehumidity","data","labels","Date","timestamp","date","getHours","getMinutes","slice","datasets","label","yAxisID","borderColor","fill","react_default","a","createElement","es","options","title","display","text","scales","yAxes","type","position","id","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","getGroupedBy","key","groups","result","forEach","push","state","measurements1","measurements2","_this2","measurementService","then","response","distinctTags","setState","className","chart","React","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"qNACMA,EAAU,+CAODC,EALA,WAEb,OADAC,QAAQC,IAAR,wCAAAC,OAA2CJ,IACpCK,IAAMC,IAAIN,YCmDJO,EArDD,SAAAC,GAAsB,IAAnBC,EAAmBD,EAAnBC,aAETC,EAAaD,EAAaE,IAAI,SAAAC,GAAO,OAAIA,EAAQC,cACjDC,EAAYL,EAAaE,IAAI,SAAAC,GAAO,OAAIA,EAAQG,mBAIhDC,EAAO,CACXC,OAJiBR,EAAaE,IAAI,SAAAC,GAAO,OAAI,IAAIM,KAAyB,IAApBN,EAAQO,aAChCR,IAAI,SAAAS,GAAI,OAAIA,EAAKC,WAAW,KAAK,IAAMD,EAAKE,cAAcC,OAAO,KAI/FC,SAAU,CAAC,CACTC,MAAO,kBACPC,QAAS,WACTC,YAAa,oBACbC,MAAM,EACNZ,KAAMN,GAER,CACEe,MAAO,eACPC,QAAS,UACTC,YAAa,kBACbC,MAAM,EACNZ,KAAMF,KAwBV,OAEEe,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMhB,KAAOA,EAAOiB,QAvBR,CACdC,MAAO,CACLC,SAAS,EACTC,KAAM,gDAERC,OAAQ,CACNC,MAAO,CACL,CACEC,KAAM,SACNC,SAAU,OACVC,GAAI,YACH,CACDF,KAAM,SACNC,SAAU,QACVC,GAAI,kBCQCC,cA7Cb,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAiBRQ,aAAe,SAACnC,EAAMoC,GACpB,IAAIC,EAAS,GACTC,EAAS,GAQb,OAPAtC,EAAKuC,QAAQ,SAACzB,GACNA,EAAEsB,KAAQC,IACdA,EAAOvB,EAAEsB,IAAQ,GACjBE,EAAOE,KAAKH,EAAOvB,EAAEsB,MAEvBC,EAAOvB,EAAEsB,IAAMI,KAAK1B,KAEfwB,GA1BPV,EAAKa,MAAQ,CACXC,cAAe,GACfC,cAAe,IAJAf,mFAQC,IAAAgB,EAAAb,KAClBc,IAEGC,KAAK,SAAAC,GACJ7D,QAAQC,IAAI,kBACZ,IAAM6D,EAAeJ,EAAKT,aAAaY,EAAS/C,KAAM,WACtD4C,EAAKK,SAAS,CAAEP,cAAeM,EAAa,GAAIL,cAAeK,EAAa,wCAoBhF,OAFA9D,QAAQC,IAAI,kBAAmB4C,KAAKU,MAAMC,eAC1CxD,QAAQC,IAAI,kBAAmB4C,KAAKU,MAAME,eAExC9B,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,MAAImC,UAAU,iBAAd,iBACArC,EAAAC,EAAAC,cAACoC,EAAD,CAAO1D,aAAesC,KAAKU,MAAMC,gBACjC7B,EAAAC,EAAAC,cAACoC,EAAD,CAAO1D,aAAesC,KAAKU,MAAME,wBAvCvBS,IAAMC,kBCCxBC,IAASC,OAAO1C,EAAAC,EAAAC,cAACyC,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.ca0f1167.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = 'https://subdomain.marakassi.com/measurements'\n\nconst getAll = () => {\n  console.log(`Tehdään pyyntö osoitteeseen ${baseUrl}`)\n  return axios.get(baseUrl)\n}\n\nexport default { getAll }","import React from 'react'\nimport { Line } from 'react-chartjs-2'\n\nconst Chart = ({ measurements }) => {\n\n  const tempValues = measurements.map(measure => measure.temperature)\n  const humValues = measurements.map(measure => measure.relativehumidity)\n  const timestamps = measurements.map(measure => new Date(measure.timestamp * 1000))\n  const hoursMinutes = timestamps.map(date => date.getHours()+':'+('0' + date.getMinutes()).slice(-2))\n\n  const data = {\n    labels: hoursMinutes,\n    datasets: [{\n      label: 'Lämpötila',\n      yAxisID: 'tempAxis',\n      borderColor: 'rgb(255, 99, 132)',\n      fill: false,\n      data: tempValues\n    },\n    {\n      label: 'Ilmankosteus',\n      yAxisID: 'humAxis',\n      borderColor: 'rgb(45, 94, 132',\n      fill: false,\n      data: humValues\n    }]\n  }\n\n  const options = {\n    title: {\n      display: true,\n      text: 'Lämpötila ja suhteellinen ilmankosteus'\n    },\n    scales: {\n      yAxes: [\n        {\n          type: 'linear',\n          position: 'left',\n          id: 'tempAxis'\n        }, {\n          type: 'linear',\n          position: 'right',\n          id: 'humAxis'\n        }\n      ]\n    }\n  }\n\n  return (\n    //<div className='chartContainer'>\n    <div>\n      <Line data={ data } options={ options } />\n    </div>\n  )\n}\n\nexport default Chart\n","import React from 'react'\nimport measurementService from './services/measurements'\nimport Chart from './components/chart'\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      measurements1: [],\n      measurements2: [],\n    }\n  }\n\n  componentDidMount() {\n    measurementService\n      .getAll()\n      .then(response => {\n        console.log('response saatu')\n        const distinctTags = this.getGroupedBy(response.data, 'tagname')\n        this.setState({ measurements1: distinctTags[0], measurements2: distinctTags[1]})\n      })\n  }\n\n  getGroupedBy = (data, key) => {\n    let groups = {}\n    let result = []\n    data.forEach((a) => {\n      if (!(a[key] in groups)) {\n        groups[a[key]] = []\n        result.push(groups[a[key]])\n      }\n      groups[a[key]].push(a)\n    })\n    return result\n  }\n\n  render() {\n    console.log('measurements1: ', this.state.measurements1)\n    console.log('measurements2: ', this.state.measurements2)\n    return (\n      <div>\n        <h1 className='titleCentered'>Ruuvifrontend</h1>\n        <Chart measurements={ this.state.measurements1 } />\n        <Chart measurements={ this.state.measurements2 } />\n      </div >\n    )\n  }\n}\n\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}